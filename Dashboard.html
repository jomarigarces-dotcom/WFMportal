<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard | Multi-Portal</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        body { 
            margin: 0; 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            background: #232425; 
            display: flex; 
            flex-direction: column; 
            min-height: 100vh;
        }

        nav { 
            background: #171825; 
            padding: 15px 40px; 
            color: white; 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            box-shadow: 0 4px 12px rgba(37, 35, 35, 0.1);
        }

        .container { 
            flex: 1;
            padding: 50px 20px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 30px;
            max-width: 1200px;
            margin: 0 auto;
            width: 100%;
            box-sizing: border-box;
        }

        .icon-card {
            background: white; 
            padding: 40px 20px;
            border-radius: 20px; 
            display: flex; 
            flex-direction: column;
            align-items: center; 
            justify-content: center;
            text-decoration: none; 
            color: #333; 
            transition: all 0.3s ease;
            box-shadow: 0 8px 20px rgba(0,0,0,0.05);
            text-align: center;
            cursor: pointer;
            position: relative;
        }

        /* Icon & Emoji Styling */
        .icon-card i, .icon-card .emoji-display { 
            font-size: 50px; 
            color: #000000; 
            margin-bottom: 20px; 
            transition: transform 0.4s ease;
            display: block;
        }

        .icon-card span {
            font-weight: 600;
            font-size: 16px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .icon-card:hover { 
            background: #2e2e36; 
            color: white; 
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(78, 84, 200, 0.3);
        }

        .icon-card:hover i, .icon-card:hover .emoji-display { 
            color: white; 
            transform: scale(1.1);
        }

        /* Special Add Button Styling */
        .add-btn-card {
            border: 3px dashed #555;
            background: transparent;
            color: #aaa;
        }
        .add-btn-card:hover {
            border-color: #fff;
            background: rgba(255,255,255,0.05);
        }

        /* Modal Styling */
        #modalOverlay {
            display: none;
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background: #fff;
            padding: 30px;
            border-radius: 15px;
            width: 350px;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .modal-content h3 { margin: 0 0 10px 0; color: #333; }

        .modal-content input {
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 8px;
            outline: none;
        }

        .modal-actions {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }

        .btn {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
        }

        .btn-complete { background: #2ecc71; color: white; }
        .btn-cancel { background: #e74c3c; color: white; }

        .logout { 
            color: #fff; 
            text-decoration: none; 
            border: 1px solid rgba(255,255,255,0.6); 
            padding: 8px 18px; 
            border-radius: 8px; 
            font-size: 14px;
            transition: 0.3s;
        }

        @media (max-width: 600px) {
            .container { grid-template-columns: repeat(2, 1fr); gap: 15px; }
        }
    </style>
</head>
<body>

    <nav>
        <span><b>Admin Panel</b> | Jom</span>
        <a href="index.html" class="logout">Logout</a>
    </nav>

    <div class="container" id="iconContainer">
        
        <!-- Latte Admin -->
        <a href="https://latte-irr.web.app/admin/login" target="_blank" class="icon-card">
            <i class="fas fa-coffee"></i>
            <span>Latte Admin</span>
        </a>

        <!-- Workforce REST -->
        <a href="https://script.google.com/a/ececontactcenters.com/macros/s/AKfycby1PFfuwqf75nkaZMNsLZnGSppDUSkd_xff6i1-Qcon_nMD6JiWCSJCbIvBvlvlWnng/exec" target="_blank" class="icon-card">
            <i class="fas fa-users-cog"></i>
            <span>Workforce REST</span>
        </a>

        <!-- Deconstructor -->
        <a href="https://script.google.com/a/macros/ececontactcenters.com/s/AKfycbx9WElKFUXSSgHa5sIFquj_Loxu3nUtwsihsXR9K6-zM9388fgpJwjycWy52vnXQG4y/exec" target="_blank" class="icon-card">
            <i class="fas fa-hammer"></i>
            <span>Deconstructor</span>
        </a>

        <!-- Quack -->
        <a href="https://script.google.com/a/macros/ececontactcenters.com/s/AKfycbx855o3UuHN-I1Z0oac7sA-Oy4F5M7LsuNWL-qhArbKUNCd3_psmw9rJajD5btjg66r/exec" target="_blank" class="icon-card">
            <i class="fas fa-kiwi-bird"></i>
            <span>Quack</span>
        </a>

        <!-- LM Notebook -->
        <a href="https://notebooklm.google.com/notebook/0991d9fa-2e44-48f0-8924-8de25f0bac7b?pli=1" target="_blank" class="icon-card">
            <i class="fas fa-book-open"></i>
            <span>LM Notebook</span>
        </a>

        <!-- ADD NEW BUTTON TRIGGER -->
        <div class="icon-card add-btn-card" onclick="openModal()">
            <i class="fas fa-plus-circle"></i>
            <span>Add New Link</span>
        </div>

    </div>

    <!-- Modal for Adding New Link -->
    <div id="modalOverlay">
        <div class="modal-content">
            <h3>Add New Portal</h3>
            <input type="text" id="newName" placeholder="Name (e.g. My Dashboard)">
            <input type="url" id="newUrl" placeholder="URL (https://...)">
            <input type="text" id="newEmoji" placeholder="Emoji (e.g. ðŸš€)">
            <div class="modal-actions">
                <button class="btn btn-cancel" onclick="closeModal()">Cancel</button>
                <button class="btn btn-complete" onclick="addNewCard()">Complete</button>
            </div>
        </div>
    </div>

    <script>
        const container = document.getElementById('iconContainer');
        const overlay = document.getElementById('modalOverlay');

        // Load saved icons from local storage on page load
        window.onload = function() {
            const savedIcons = JSON.parse(localStorage.getItem('customIcons')) || [];
            savedIcons.forEach(icon => renderCard(icon.name, icon.url, icon.emoji));
        };

        function openModal() {
            overlay.style.display = 'flex';
        }

        function closeModal() {
            overlay.style.display = 'none';
            document.getElementById('newName').value = '';
            document.getElementById('newUrl').value = '';
            document.getElementById('newEmoji').value = '';
        }

        function addNewCard() {
            const name = document.getElementById('newName').value;
            const url = document.getElementById('newUrl').value;
            const emoji = document.getElementById('newEmoji').value;

            if (!name || !url || !emoji) {
                alert("Please fill in all fields");
                return;
            }

            // Render the UI
            renderCard(name, url, emoji);

            // Save to Local Storage
            const savedIcons = JSON.parse(localStorage.getItem('customIcons')) || [];
            savedIcons.push({ name, url, emoji });
            localStorage.setItem('customIcons', JSON.stringify(savedIcons));

            closeModal();
        }

        function renderCard(name, url, emoji) {
            const a = document.createElement('a');
            a.href = url;
            a.target = "_blank";
            a.className = "icon-card";
            a.innerHTML = `
                <span class="emoji-display">${emoji}</span>
                <span>${name}</span>
            `;
            
            // Insert before the "Add New" button
            const addBtn = document.querySelector('.add-btn-card');
            container.insertBefore(a, addBtn);
        }
    </script>

</body>
</html>